// Translations for multiple languages
const translations = {
    en: {
        tagline: "Your Personal Medicine Companion",
        signin: "Sign In",
        signup: "Sign Up",
        email: "Email",
        password: "Password",
        signinBtn: "Sign In",
        name: "Full Name",
        age: "Age",
        dob: "Date of Birth",
        gender: "Gender",
        male: "Male",
        female: "Female",
        other: "Other",
        bloodGroup: "Blood Group (Optional)",
        phone: "Phone Number (Optional)",
        emergencyContact: "Emergency Contact (Optional)",
        signupBtn: "Create Account",
        dashboard: "Dashboard",
        progress: "Progress",
        history: "History",
        analyser: "Medicine Analyser",
        profile: "Profile",
        settings: "Settings",
        logout: "Logout",
        welcomeMessage: "Welcome Back!",
        addNewMedicine: "Add New Medicine",
        addMedicineBtn: "+ Add Medicine",
        todaysMedicines: "Today's Medicines",
        upcomingDoses: "Upcoming Doses",
        yourMedicines: "Your Medicines",
        noMedicines: "No medicines scheduled for today",
        medicineName: "Medicine Name",
        dosage: "Dosage (e.g., 50mg)",
        timing: "Time",
        duration: "Duration (days)",
        tablets: "Tablets per dose",
        addAnotherMedicine: "+ Add Another Medicine",
        submitBtn: "Submit",
        medicineReminder: "Medicine Reminder! ðŸ’Š",
        taken: "âœ“ Taken",
        skip: "âœ— Skip",
        stopToday: "Stop for Today",
        whySkip: "Why did you skip?",
        forgot: "Forgot to take",
        notWell: "Not feeling well",
        outOfStock: "Out of stock",
        sideEffects: "Side effects",
        otherReason: "Other reason",
        chatbotTitle: "MediTrack Assistant",
        chatbotWelcome: "Hello! I'm your medicine assistant. Ask me anything about medicines, symptoms, or your medication schedule!",
        send: "Send",
        chatInputPlaceholder: "Type your message...",
        medicationProgress: "Medication Progress",
        medicationHistory: "Medication History",
        searchMedicine: "Search Medicine or Symptom",
        searchBtn: "Search",
        analyzing: "Analyzing...",
        editProfile: "Edit Profile",
        saveChanges: "Save Changes"
    },
    ta: {
        tagline: "à®‰à®™à¯à®•à®³à¯ à®¤à®©à®¿à®ªà¯à®ªà®Ÿà¯à®Ÿ à®®à®°à¯à®¨à¯à®¤à¯ à®¤à¯à®£à¯ˆ",
        signin: "à®‰à®³à¯à®¨à¯à®´à¯ˆà®¯",
        signup: "à®ªà®¤à®¿à®µà¯ à®šà¯†à®¯à¯à®¯",
        email: "à®®à®¿à®©à¯à®©à®žà¯à®šà®²à¯",
        password: "à®•à®Ÿà®µà¯à®šà¯à®šà¯Šà®²à¯",
        signinBtn: "à®‰à®³à¯à®¨à¯à®´à¯ˆà®¯",
        name: "à®®à¯à®´à¯ à®ªà¯†à®¯à®°à¯",
        age: "à®µà®¯à®¤à¯",
        dob: "à®ªà®¿à®±à®¨à¯à®¤ à®¤à¯‡à®¤à®¿",
        gender: "à®ªà®¾à®²à®¿à®©à®®à¯",
        male: "à®†à®£à¯",
        female: "à®ªà¯†à®£à¯",
        other: "à®®à®±à¯à®±à®µà¯ˆ",
        bloodGroup: "à®‡à®°à®¤à¯à®¤ à®µà®•à¯ˆ (à®µà®¿à®°à¯à®ªà¯à®ªà®®à®¾à®©à®¤à¯)",
        phone: "à®¤à¯Šà®²à¯ˆà®ªà¯‡à®šà®¿ à®Žà®£à¯ (à®µà®¿à®°à¯à®ªà¯à®ªà®®à®¾à®©à®¤à¯)",
        emergencyContact: "à®…à®µà®šà®° à®¤à¯Šà®Ÿà®°à¯à®ªà¯ (à®µà®¿à®°à¯à®ªà¯à®ªà®®à®¾à®©à®¤à¯)",
        signupBtn: "à®•à®£à®•à¯à®•à¯ˆ à®‰à®°à¯à®µà®¾à®•à¯à®•à¯",
        dashboard: "à®Ÿà®¾à®·à¯à®ªà¯‹à®°à¯à®Ÿà¯",
        progress: "à®®à¯à®©à¯à®©à¯‡à®±à¯à®±à®®à¯",
        history: "à®µà®°à®²à®¾à®±à¯",
        analyser: "à®®à®°à¯à®¨à¯à®¤à¯ à®ªà®•à¯à®ªà¯à®ªà®¾à®¯à¯à®µà®¿",
        profile: "à®šà¯à®¯à®µà®¿à®µà®°à®®à¯",
        settings: "à®…à®®à¯ˆà®ªà¯à®ªà¯à®•à®³à¯",
        logout: "à®µà¯†à®³à®¿à®¯à¯‡à®±à¯",
        welcomeMessage: "à®®à¯€à®£à¯à®Ÿà¯à®®à¯ à®µà®°à®µà¯‡à®±à¯à®•à®¿à®±à¯‹à®®à¯!",
        addNewMedicine: "à®ªà¯à®¤à®¿à®¯ à®®à®°à¯à®¨à¯à®¤à¯ à®šà¯‡à®°à¯à®•à¯à®•",
        addMedicineBtn: "+ à®®à®°à¯à®¨à¯à®¤à¯ à®šà¯‡à®°à¯à®•à¯à®•",
        todaysMedicines: "à®‡à®©à¯à®±à¯ˆà®¯ à®®à®°à¯à®¨à¯à®¤à¯à®•à®³à¯",
        upcomingDoses: "à®µà®°à®µà®¿à®°à¯à®•à¯à®•à¯à®®à¯ à®…à®³à®µà¯à®•à®³à¯",
        yourMedicines: "à®‰à®™à¯à®•à®³à¯ à®®à®°à¯à®¨à¯à®¤à¯à®•à®³à¯",
        noMedicines: "à®‡à®©à¯à®±à¯ à®Žà®¨à¯à®¤ à®®à®°à¯à®¨à¯à®¤à¯à®®à¯ à®¤à®¿à®Ÿà¯à®Ÿà®®à®¿à®Ÿà®ªà¯à®ªà®Ÿà®µà®¿à®²à¯à®²à¯ˆ",
        medicineName: "à®®à®°à¯à®¨à¯à®¤à®¿à®©à¯ à®ªà¯†à®¯à®°à¯",
        dosage: "à®…à®³à®µà¯ (à®Ž.à®•à®¾., 50mg)",
        timing: "à®¨à¯‡à®°à®®à¯",
        duration: "à®•à®¾à®²à®®à¯ (à®¨à®¾à®Ÿà¯à®•à®³à¯)",
        tablets: "à®’à®°à¯ à®®à¯à®±à¯ˆ à®®à®¾à®¤à¯à®¤à®¿à®°à¯ˆà®•à®³à¯",
        addAnotherMedicine: "+ à®®à®±à¯à®±à¯Šà®°à¯ à®®à®°à¯à®¨à¯à®¤à¯ à®šà¯‡à®°à¯à®•à¯à®•",
        submitBtn: "à®šà®®à®°à¯à®ªà¯à®ªà®¿à®•à¯à®•à®µà¯à®®à¯",
        medicineReminder: "à®®à®°à¯à®¨à¯à®¤à¯ à®¨à®¿à®©à¯ˆà®µà¯‚à®Ÿà¯à®Ÿà®²à¯! ðŸ’Š",
        taken: "âœ“ à®Žà®Ÿà¯à®¤à¯à®¤à®¤à¯",
        skip: "âœ— à®¤à®µà®¿à®°à¯",
        stopToday: "à®‡à®©à¯à®±à¯ˆà®•à¯à®•à¯ à®¨à®¿à®±à¯à®¤à¯à®¤à¯",
        whySkip: "à®à®©à¯ à®¤à®µà®¿à®°à¯à®¤à¯à®¤à¯€à®°à¯à®•à®³à¯?",
        forgot: "à®Žà®Ÿà¯à®•à¯à®• à®®à®±à®¨à¯à®¤à¯à®µà®¿à®Ÿà¯à®Ÿà¯‡à®©à¯",
        notWell: "à®¨à®²à®®à®¿à®²à¯à®²à¯ˆ",
        outOfStock: "à®‡à®°à¯à®ªà¯à®ªà®¿à®²à¯ à®‡à®²à¯à®²à¯ˆ",
        sideEffects: "à®ªà®•à¯à®• à®µà®¿à®³à¯ˆà®µà¯à®•à®³à¯",
        otherReason: "à®µà¯‡à®±à¯ à®•à®¾à®°à®£à®®à¯",
        chatbotTitle: "à®®à¯†à®Ÿà®¿à®Ÿà¯à®°à®¾à®•à¯ à®‰à®¤à®µà®¿à®¯à®¾à®³à®°à¯",
        chatbotWelcome: "à®µà®£à®•à¯à®•à®®à¯! à®¨à®¾à®©à¯ à®‰à®™à¯à®•à®³à¯ à®®à®°à¯à®¨à¯à®¤à¯ à®‰à®¤à®µà®¿à®¯à®¾à®³à®°à¯. à®®à®°à¯à®¨à¯à®¤à¯à®•à®³à¯, à®…à®±à®¿à®•à¯à®±à®¿à®•à®³à¯ à®…à®²à¯à®²à®¤à¯ à®‰à®™à¯à®•à®³à¯ à®®à®°à¯à®¨à¯à®¤à¯ à®…à®Ÿà¯à®Ÿà®µà®£à¯ˆ à®ªà®±à¯à®±à®¿ à®Žà®©à¯à®©à®¿à®Ÿà®®à¯ à®•à¯‡à®³à¯à®™à¯à®•à®³à¯!",
        send: "à®…à®©à¯à®ªà¯à®ªà¯",
        chatInputPlaceholder: "à®‰à®™à¯à®•à®³à¯ à®šà¯†à®¯à¯à®¤à®¿à®¯à¯ˆ à®‰à®³à¯à®³à®¿à®Ÿà®µà¯à®®à¯...",
        medicationProgress: "à®®à®°à¯à®¨à¯à®¤à¯ à®®à¯à®©à¯à®©à¯‡à®±à¯à®±à®®à¯",
        medicationHistory: "à®®à®°à¯à®¨à¯à®¤à¯ à®µà®°à®²à®¾à®±à¯",
        searchMedicine: "à®®à®°à¯à®¨à¯à®¤à¯ à®…à®²à¯à®²à®¤à¯ à®…à®±à®¿à®•à¯à®±à®¿ à®¤à¯‡à®Ÿà¯à®•",
        searchBtn: "à®¤à¯‡à®Ÿà¯",
        analyzing: "à®ªà®•à¯à®ªà¯à®ªà®¾à®¯à¯à®µà¯ à®šà¯†à®¯à¯à®•à®¿à®±à®¤à¯...",
        editProfile: "à®šà¯à®¯à®µà®¿à®µà®°à®¤à¯à®¤à¯ˆ à®¤à®¿à®°à¯à®¤à¯à®¤à¯",
        saveChanges: "à®®à®¾à®±à¯à®±à®™à¯à®•à®³à¯ˆ à®šà¯‡à®®à®¿"
    },
    hi: {
        tagline: "à¤†à¤ªà¤•à¤¾ à¤µà¥à¤¯à¤•à¥à¤¤à¤¿à¤—à¤¤ à¤¦à¤µà¤¾ à¤¸à¤¾à¤¥à¥€",
        signin: "à¤¸à¤¾à¤‡à¤¨ à¤‡à¤¨ à¤•à¤°à¥‡à¤‚",
        signup: "à¤¸à¤¾à¤‡à¤¨ à¤…à¤ª à¤•à¤°à¥‡à¤‚",
        email: "à¤ˆà¤®à¥‡à¤²",
        password: "à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡",
        signinBtn: "à¤¸à¤¾à¤‡à¤¨ à¤‡à¤¨ à¤•à¤°à¥‡à¤‚",
        name: "à¤ªà¥‚à¤°à¤¾ à¤¨à¤¾à¤®",
        age: "à¤‰à¤®à¥à¤°",
        dob: "à¤œà¤¨à¥à¤® à¤¤à¤¿à¤¥à¤¿",
        gender: "à¤²à¤¿à¤‚à¤—",
        male: "à¤ªà¥à¤°à¥à¤·",
        female: "à¤®à¤¹à¤¿à¤²à¤¾",
        other: "à¤…à¤¨à¥à¤¯",
        bloodGroup: "à¤°à¤•à¥à¤¤ à¤¸à¤®à¥‚à¤¹ (à¤µà¥ˆà¤•à¤²à¥à¤ªà¤¿à¤•)",
        phone: "à¤«à¤¼à¥‹à¤¨ à¤¨à¤‚à¤¬à¤° (à¤µà¥ˆà¤•à¤²à¥à¤ªà¤¿à¤•)",
        emergencyContact: "à¤†à¤ªà¤¾à¤¤à¤•à¤¾à¤²à¥€à¤¨ à¤¸à¤‚à¤ªà¤°à¥à¤• (à¤µà¥ˆà¤•à¤²à¥à¤ªà¤¿à¤•)",
        signupBtn: "à¤–à¤¾à¤¤à¤¾ à¤¬à¤¨à¤¾à¤à¤‚",
        dashboard: "à¤¡à¥ˆà¤¶à¤¬à¥‹à¤°à¥à¤¡",
        progress: "à¤ªà¥à¤°à¤—à¤¤à¤¿",
        history: "à¤‡à¤¤à¤¿à¤¹à¤¾à¤¸",
        analyser: "à¤¦à¤µà¤¾ à¤µà¤¿à¤¶à¥à¤²à¥‡à¤·à¤•",
        profile: "à¤ªà¥à¤°à¥‹à¤«à¤¼à¤¾à¤‡à¤²",
        settings: "à¤¸à¥‡à¤Ÿà¤¿à¤‚à¤—à¥à¤¸",
        logout: "à¤²à¥‰à¤— à¤†à¤‰à¤Ÿ",
        welcomeMessage: "à¤µà¤¾à¤ªà¤¸à¥€ à¤ªà¤° à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤¹à¥ˆ!",
        addNewMedicine: "à¤¨à¤ˆ à¤¦à¤µà¤¾ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚",
        addMedicineBtn: "+ à¤¦à¤µà¤¾ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚",
        todaysMedicines: "à¤†à¤œ à¤•à¥€ à¤¦à¤µà¤¾à¤à¤‚",
        upcomingDoses: "à¤†à¤—à¤¾à¤®à¥€ à¤–à¥à¤°à¤¾à¤•",
        yourMedicines: "à¤†à¤ªà¤•à¥€ à¤¦à¤µà¤¾à¤à¤‚",
        noMedicines: "à¤†à¤œ à¤•à¥‡ à¤²à¤¿à¤ à¤•à¥‹à¤ˆ à¤¦à¤µà¤¾ à¤¨à¤¿à¤°à¥à¤§à¤¾à¤°à¤¿à¤¤ à¤¨à¤¹à¥€à¤‚",
        medicineName: "à¤¦à¤µà¤¾ à¤•à¤¾ à¤¨à¤¾à¤®",
        dosage: "à¤–à¥à¤°à¤¾à¤• (à¤œà¥ˆà¤¸à¥‡, 50mg)",
        timing: "à¤¸à¤®à¤¯",
        duration: "à¤…à¤µà¤§à¤¿ (à¤¦à¤¿à¤¨)",
        tablets: "à¤ªà¥à¤°à¤¤à¤¿ à¤–à¥à¤°à¤¾à¤• à¤—à¥‹à¤²à¤¿à¤¯à¤¾à¤‚",
        addAnotherMedicine: "+ à¤à¤• à¤”à¤° à¤¦à¤µà¤¾ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚",
        submitBtn: "à¤œà¤®à¤¾ à¤•à¤°à¥‡à¤‚",
        medicineReminder: "à¤¦à¤µà¤¾ à¤…à¤¨à¥à¤¸à¥à¤®à¤¾à¤°à¤•! ðŸ’Š",
        taken: "âœ“ à¤²à¤¿à¤¯à¤¾",
        skip: "âœ— à¤›à¥‹à¤¡à¤¼à¥‡à¤‚",
        stopToday: "à¤†à¤œ à¤•à¥‡ à¤²à¤¿à¤ à¤°à¥‹à¤•à¥‡à¤‚",
        whySkip: "à¤†à¤ªà¤¨à¥‡ à¤•à¥à¤¯à¥‹à¤‚ à¤›à¥‹à¤¡à¤¼à¤¾?",
        forgot: "à¤²à¥‡à¤¨à¤¾ à¤­à¥‚à¤² à¤—à¤",
        notWell: "à¤…à¤šà¥à¤›à¤¾ à¤®à¤¹à¤¸à¥‚à¤¸ à¤¨à¤¹à¥€à¤‚ à¤•à¤° à¤°à¤¹à¥‡",
        outOfStock: "à¤¸à¥à¤Ÿà¥‰à¤• à¤®à¥‡à¤‚ à¤¨à¤¹à¥€à¤‚",
        sideEffects: "à¤¦à¥à¤·à¥à¤ªà¥à¤°à¤­à¤¾à¤µ",
        otherReason: "à¤…à¤¨à¥à¤¯ à¤•à¤¾à¤°à¤£",
        chatbotTitle: "à¤®à¥‡à¤¡à¤¿à¤Ÿà¥à¤°à¥ˆà¤• à¤¸à¤¹à¤¾à¤¯à¤•",
        chatbotWelcome: "à¤¨à¤®à¤¸à¥à¤¤à¥‡! à¤®à¥ˆà¤‚ à¤†à¤ªà¤•à¤¾ à¤¦à¤µà¤¾ à¤¸à¤¹à¤¾à¤¯à¤• à¤¹à¥‚à¤‚à¥¤ à¤¦à¤µà¤¾à¤“à¤‚, à¤²à¤•à¥à¤·à¤£à¥‹à¤‚ à¤¯à¤¾ à¤†à¤ªà¤•à¥‡ à¤¦à¤µà¤¾ à¤•à¤¾à¤°à¥à¤¯à¤•à¥à¤°à¤® à¤•à¥‡ à¤¬à¤¾à¤°à¥‡ à¤®à¥‡à¤‚ à¤®à¥à¤à¤¸à¥‡ à¤•à¥à¤› à¤­à¥€ à¤ªà¥‚à¤›à¥‡à¤‚!",
        send: "à¤­à¥‡à¤œà¥‡à¤‚",
        chatInputPlaceholder: "à¤…à¤ªà¤¨à¤¾ à¤¸à¤‚à¤¦à¥‡à¤¶ à¤Ÿà¤¾à¤‡à¤ª à¤•à¤°à¥‡à¤‚...",
        medicationProgress: "à¤¦à¤µà¤¾ à¤ªà¥à¤°à¤—à¤¤à¤¿",
        medicationHistory: "à¤¦à¤µà¤¾ à¤‡à¤¤à¤¿à¤¹à¤¾à¤¸",
        searchMedicine: "à¤¦à¤µà¤¾ à¤¯à¤¾ à¤²à¤•à¥à¤·à¤£ à¤–à¥‹à¤œà¥‡à¤‚",
        searchBtn: "à¤–à¥‹à¤œà¥‡à¤‚",
        analyzing: "à¤µà¤¿à¤¶à¥à¤²à¥‡à¤·à¤£ à¤•à¤° à¤°à¤¹à¤¾ à¤¹à¥ˆ...",
        editProfile: "à¤ªà¥à¤°à¥‹à¤«à¤¼à¤¾à¤‡à¤² à¤¸à¤‚à¤ªà¤¾à¤¦à¤¿à¤¤ à¤•à¤°à¥‡à¤‚",
        saveChanges: "à¤ªà¤°à¤¿à¤µà¤°à¥à¤¤à¤¨ à¤¸à¤¹à¥‡à¤œà¥‡à¤‚"
    },
    te: {}, kn: {}, ml: {} // Abbreviated for space
};

let currentLanguage = 'en';

function changeLanguage() {
    const selector = document.getElementById('languageSelector');
    if (!selector) return;
    
    currentLanguage = selector.value;
    localStorage.setItem('preferredLanguage', currentLanguage);
    applyTranslations();
}

function applyTranslations() {
    const lang = translations[currentLanguage] || translations.en;
    
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        if (lang[key]) {
            element.textContent = lang[key];
        }
    });
    
    document.querySelectorAll('[data-translate-placeholder]').forEach(element => {
        const key = element.getAttribute('data-translate-placeholder');
        if (lang[key]) {
            element.setAttribute('placeholder', lang[key]);
        }
    });
}

// Load saved language preference
document.addEventListener('DOMContentLoaded', function() {
    const savedLang = localStorage.getItem('preferredLanguage');
    if (savedLang) {
        currentLanguage = savedLang;
        const selector = document.getElementById('languageSelector');
        if (selector) {
            selector.value = savedLang;
            applyTranslations();
        }
    }
});